<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title id="title">ClouDrop</title>
    <!-- Materialize CDN -->
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- firebase CDN -->  
  <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>  	
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-storage.js"></script>
  
</head>
<body>



<br>


  <div class="row">
    <div class="col s12 m12 l3">    
            
              <div class="card radius">
                <div class="card-image">
                  <img class="image-radius" src="https://lh3.googleusercontent.com/proxy/jur5-PieA9tOppeyAjOQbUIy_x51lvvgMgVv630fZ2iifqjPk2X7F8HdSyPega8_FV6aN4LTaZiiVINdC8wkIYG_-nv6jxT0p4fTYlyHCM5_-RS8m7TfMksYZMuQKviZk0stDnwTslEZB885ZegNUPuKsFdf">
                  <span class="card-title">Card Title</span>
                  <a class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">add</i></a>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.</p>
                </div>
              </div>
                     
    </div>

    <div class="col s12 m12 l9">

        <nav class="nav-center radius grey">
            <div class="nav-content">                
              <ul class="tabs tabs-transparent">                
                <li class="tab"><a href="#test1">Test 1</a></li>
                <li class="tab"><a class="active" href="#test2">Test 2</a></li>
                <li class="tab disabled"><a href="#test3">Disabled Tab</a></li>
                <li class="tab"><a href="#test4">Test 4</a></li>
              </ul>            
            </div>        
          </nav>
        
          <ul class="sidenav" id="mobile-demo">
            <li><a href="sass.html">Sass</a></li>
            <li><a href="badges.html">Components</a></li>
            <li><a href="collapsible.html">JavaScript</a></li>
          </ul>
        
          <div id="test1" class="col s12">Test 1</div>
          <div id="test2" class="col s12">Test 2</div>
          <div id="test3" class="col s12">Test 3</div>
          <div id="test4" class="col s12">Test 4</div>        

    </div>
  </div>

  


<script>
	  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyAvJcXJAvbIdc0KfJLH3CyQ0gvnP1sHKF0",
    authDomain: "cld-beta.firebaseapp.com",
    databaseURL: "https://cld-beta.firebaseio.com",
    projectId: "cld-beta",
    storageBucket: "cld-beta.appspot.com",
    messagingSenderId: "643649556510",
    appId: "1:643649556510:web:7388c54638e3321944de0f"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    var displayName = user.displayName;
    var email = user.email;
    var emailVerified = user.emailVerified;
    var photoURL = user.photoURL;
    var isAnonymous = user.isAnonymous;
    var uid = user.uid;
    var providerData = user.providerData;
    console.log("Existe Usuario Activo");    

  } else {
  	window.location='../login-firebase/index.html';
    console.log("No Existe Usuario Activo");
  }

  //Traer Datos Del Usuario
var docRef = firebase.firestore().collection(uid).doc("UserData");
docRef.get().then(function(doc) {
if (doc.exists) {
    var user=doc.data();    
    // document.getElementById('uid').innerHTML = user.uid;
    document.getElementById('User').innerHTML = user.displayName;    
    document.getElementById('ProfileUserImage').src = user.photoURL
} else {
    // doc.data() will be undefined in this case
    console.log("El documento no existe!");
}
}).catch(function(error) {
console.log("Error getting document:", error);
});

  });


</script>	
  <script src="js/app.js"></script>
  <!-- Materialize -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>  
  <script src="js/init.js"></script>
</body>
</html>


